# 할 일 수정 기능 만들기

<img width="643" alt="5" src="https://user-images.githubusercontent.com/110578739/184621545-6d75b159-acc4-42e4-822a-54edbe194760.png">

<br>
 
 ## 할 일 목록에서 더블클릭시 수정모드 전환하기

```java script
    const todoElem = document.createElement("div");
   todoElem.classList.add("todo");
   todoElem.addEventListener("dblclick", (event) =>
     onDbclickTodo(event, todo.id)
   );
   todoElem.innerText = todo.content;
```

`painTodos()` 함수에서 `<div class="todo">첫번째 할 일</div>` 을 만드는 코드에 `addEventListener()`를 사용하여 더블클릭시 `onDbclickTodo()` 함수를 `event` 와 `todo.id`인자를 받아 실행하도록 한다  
<br>

```java script
const onDbclickTodo = (e, todoId) => {
    const todoElem = e.target;
    const inputText = e.target.innerText;
    const todoItemElem = todoElem.parentNode;
    const inputElem = document.createElement('input');
    inputElem.value = inputText;
    inputElem.classList.add('edit-input');
    todoItemElem.appendChild(inputElem);

    inputElem.addEventListener('keypress', (e)=>{
        if(e.key === 'Enter') {
            updateTodo(e.target.value, todoId); // todo 수정
        }
    })
}
```

`e.target`은 이벤트가 일어난 태그를 가르키고 `e.target.innerText`는 해당 태그에서 적힌 텍스트값을 가르킨다  
<img width="145" alt="6" src="https://user-images.githubusercontent.com/110578739/184625055-a8d88300-08cc-44f8-9bed-a054ef357c10.png">  
<br>

`const todoItemElem = todoElem.parentNode`은 이벤트가 일어난 태그인 `div.todo`의 부모노드를 가르킨다 즉 `li.todo-item`태그이다  
<img width="143" alt="7" src="https://user-images.githubusercontent.com/110578739/184625620-b021dc1e-74ff-4048-911f-9eb75417e1c5.png">  
<br>

`document.createElement('input')`를 사용해 새로운 input요소를 만든다  
새로운 input요소에 원래 적혀있던 `e.target.innerText`를 넣는다  
`inputElem.classList.add('edit-input');`로 새로운 input요소에 클래스를 지정한다  
`todoItemElem`의 자식노드에 위치시킨다, 즉 `li.todo-item` 태그의 자식노드로 추가 한다

<br>

```css
.edit-input {
  position: absolute;
  left: 0;
  top: 0;
  width: 590px;
  height: 2.8rem;
  margin: 0;
}
```

css에서 `position : absolute;`를 사용하여 `li.todo-item` 태그위에 쌓으면서 완전히 가린다

- `position : absolute;` : 해당 요소는 문서흐름에서 제거되고 배치 기준을 자신이 아닌 상위 요소에서 찾는다. DOM 트리를 따라 올라가다가 position 속성이 static이 아닌 첫 번째 상위 요소가 해당 요소의 배치 기준으로 설정된다.

<br>
 
 ## 수정하기
